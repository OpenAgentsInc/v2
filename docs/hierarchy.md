# Hierarchy of important files & folders

- app/
  - [[...rest]]/
    - page.tsx - Main application page
      - Renders `HomeUnauthed` for unauthenticated users
      - Renders `HomeDashboard` for authenticated users
  - api/
    - chat/
      - onFinish.ts - Handles chat completion
        - Saves user and assistant messages to the database
        - Logs token usage and handles potential credit deductions
      - route.ts - Chat API route
        - Validates and processes chat messages
        - Streams AI responses and handles tool invocations
        - Uses `onFinish` to save messages and manage state
    - thread/
      - route.ts - Thread API route
        - Authenticates user and manages thread creation
        - Returns existing empty thread or creates a new one
  - share/
    - [id]/
      - page.tsx - Share chat page (unimplemented)
        - Fetches shared chat data and displays chat title and messages
        - Uses `ChatList` and `FooterText` components
  - globals.css - Global CSS styles
  - layout.tsx - Main application layout
  - signup/
    - page.tsx - Signup page
      - Renders `SignUp` component for new users
      - Displays `UserButton` for authenticated users
- components/ - React components
  - canvas/ - Canvas-related components
    - Scene.tsx - Main scene component for 3D rendering
      - Uses react-three/fiber for 3D rendering
      - Implements smooth scrolling with Lenis
      - Renders GridScene component
  - chat/ - Chat-related components
    - chat-list.tsx - Renders a list of chat messages with separators
    - chat-message-actions.tsx - Implements copy-to-clipboard functionality for chat messages
    - chat-message.tsx - Renders individual chat messages with markdown support and tool invocations
    - chat.tsx - Main chat component that combines ChatList and EmptyScreen
    - empty-screen.tsx - Renders an empty screen when no chat is active
    - index.ts - Exports chat components
    - markdown.tsx - Renders markdown content
    - tool-result.tsx - Renders the result of tool invocations
  - clear-history.tsx - Component for clearing chat history
  - dom/ - DOM-related utility components
    - Layout.tsx - Main layout component
  - external-link.tsx - Reusable component for rendering external links
  - github/ - GitHub integration components
    - file-viewer.tsx - Component for viewing file contents
  - home/ - Home-related components
    - HomeUnauthed.tsx - Renders the unauthenticated home page with a sign-in form
    - HomeDashboard.tsx - Main dashboard component for authenticated users
  - hud/ - Heads-up display components
    - hud.tsx - Main HUD component
    - pane.tsx - Pane component for HUD
  - input/ - Input-related components
    - prompt-form.tsx - Implements the chat input form with auto-resizing textarea and submit button
  - providers.tsx - Sets up theme, sidebar, tooltip, and authentication providers
  - share/ - Share-related components
  - sidebar/ - Sidebar-related components
    - sidebar-actions.tsx - Provides actions for sharing and deleting chats
    - sidebar-desktop.tsx - Renders the sidebar for desktop view
    - sidebar-footer.tsx - Renders the footer of the sidebar
    - sidebar-item.tsx - Renders individual sidebar items with animations
    - sidebar-items.tsx - Renders a list of chat items in the sidebar with animation
    - sidebar-list.tsx - Fetches and displays a list of user threads in the sidebar
    - sidebar-mobile.tsx - Renders the sidebar for mobile view
    - sidebar-toggle.tsx - Provides a button to toggle the sidebar
    - sidebar.tsx - Implements the main sidebar component with open/closed state management
  - theme-toggle.tsx - Provides a button to toggle between light and dark themes
  - ui/ - Reusable UI components
    - alert-dialog.tsx - Implements an alert dialog component
    - badge.tsx - Badge component for displaying status or labels
    - button.tsx - Button component with various styles
    - codeblock.tsx - Code block component for syntax highlighting
    - dialog.tsx - Dialog component for modal interactions
    - dropdown-menu.tsx - Dropdown menu component
    - icons.tsx - Collection of SVG icons
    - input.tsx - Input component for forms
    - label.tsx - Label component for form elements
    - select.tsx - Select component for dropdowns
    - separator.tsx - Separator component for dividing content
    - sheet.tsx - Sheet component for side panels
    - sonner.tsx - Toaster component for notifications
    - switch.tsx - Switch component for toggles
    - textarea.tsx - Textarea component for multi-line input
    - tooltip.tsx - Tooltip component for hints
- db/ - Database related files
  - actions.ts - Database actions for saving and fetching chat messages and threads
  - init-db.ts - Initializes the database and seeds initial data
  - queries.ts - SQL queries for interacting with the database
  - seed.ts - Seeds the database with initial data
- docs/ - Documentation files
  - hud.md - Describes the HUD overlay and its components
  - journal.md - Development journal for tracking progress and reflections
  - pull-request-flow.md - Details the pull request workflow and tools
  - request-lifecycle.md - Documents the lifecycle of core requests
- hooks/ - Custom React hooks
  - useCameraAnimation.ts - Hook for animating the camera in a 3D scene
  - useChat.ts - Hook for managing chat state and interactions
  - usePostprocess.jsx - Hook for applying post-processing effects in a 3D scene
  - useThreadCreation.ts - Hook for creating new chat threads
- lib/ - Utility functions and modules
  - fonts.ts - Configures and exports the JetBrains Mono font
  - github/ - GitHub integration utilities
  - githubUtils.ts - (still needs to be summarized)
  - models.ts - Defines and exports available models
  - systemPrompt.ts - Generates system prompts based on user context
  - types.ts - TypeScript type definitions
  - utils.ts - General utility functions
- public/ - Public assets
- scripts/ - Build and maintenance scripts
- store/ - State management
  - chat.ts - Zustand store for managing chat state
  - hud.ts - Zustand store for managing HUD state
  - models.ts - Zustand store for managing model state
  - repo.ts - Zustand store for managing repository state
  - sidebar.ts - Zustand store for managing sidebar state
  - tools.ts - Zustand store for managing tools state
  - user.ts - Zustand store for managing user state
- tools/ - Custom tools and integrations
  - create-branch.ts - Tool for creating a new branch in the repository
  - create-file.ts - Tool for creating a new file in the repository
  - create-pull-request.ts - Tool for creating a new pull request
  - index.ts - Exports all tools and provides context setup
  - list-repos.ts - Tool for listing repositories of the authenticated user
  - rewrite-file.ts - Tool for rewriting the contents of a file
  - scrape-webpage.ts - Tool for scraping a webpage and returning content in markdown format
  - search-codebase.ts - Tool for searching the codebase using the Greptile API
  - view-file.ts - Tool for viewing file contents
  - view-hierarchy.ts - Tool for viewing file/folder hierarchy
- types/ - TypeScript type definitions
  - index.ts - Exports all type definitions
  - message.ts - Defines the Message interface for chat messages
  - misc.ts - Defines the JSONValue type for JSON serialization
  - repo.ts - Defines the Repo interface for repository information
  - schema.ts - Defines schema utilities for validation
  - tools.ts - Defines types for tools and their context
  - user.ts - Defines the User interface for user information

This hierarchy provides an overview of the main folders and files in the project, focusing on the most important and frequently accessed components. It omits less relevant files such as images and fonts.